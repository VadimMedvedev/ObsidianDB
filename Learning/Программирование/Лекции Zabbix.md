
https://www.zabbix.com/documentation/current/en/manual - документация zabbix
https://redos.red-soft.ru/base/redos-8_0/8_0-administation/8_0-monitoring/8_0-zabbix/8_0-zabbix70-psql14/?sphrase_id=1337746 - настройка zabbix

Admin zabbix
student 12345678

### Основы

Zabbix - это система отслеживания, которая позволяет удобно следить практически за любым оборудованием.

Основной процесс: zabbix-server - обычно запускаеться на отдельной машине, и возможно даже на нескольких, объеденяя их в кластеры. Он обращаеться ко всему нужному оборудованию и спрашивает с них метрики. Ему нужна база данных для записи: либо MySQL, либо Postgresql.

Дополнительный процесс: zabbix-web это веб сервер, окно для нас в заббикс, графический интерфейс для отслеживания собранных метрик. Он работает через сервер: nginz/apache.

На хосты обычно устанавливают zabbix-agent (хотя есть более простой инструмент simple check). В нём есть passive check и active check. 
1) passive check - zabbix-server спрашивает у zabbix-agent на сервере метрики, порт по умолчанию: 10050. Таким образом zabbix-server отслеживает все метрики с хостов где установлен и настроен zabbix-agent (при помощи http запроса).
2) active check - zabbix-agent сам отправляет метрики zabbix-server, что снимает часть нагрузки с zabbix-server. Порт по умолчанию: 10051.
3) internal check - внутренние проверки, т.е. метрики с самого zabbix-server: сколько хостов отслеживаеться, и т.д.
4) simple check - простые проверки, которые не требуют агента на хосте, например можно пинговать (для этого ничего не надо на хосте).
Значит у zabbix-server должен быть открыт порт 10051 (если настроено по умолчанию) и у всех агентов порт 10050 (опять же по умолчанию).
Есть новый agent с номером 2, который сейчас развиваеться, он работает аналогично, эти принципы у него сохраняються.

Для работы с сетевым оборудованием (роутеры, принтеры и т.д.) где зачастую нельзя настроить zabbix-agent, то используеться сетевой протокол SNMP. Это протокол используеться для удалённого управления сетевым оборудованием.

zabbix-proxy - процесс который также как и zabbix-server собирает данные с хостов, где установленны zabbix-agent, причём они его считают за главный сервер. К нему также подключаеться.

### Термины

item (элемент данныъ) - один элемент данных, одна метрика


###  Добавление узлов в zabbix

zabbix-agent даёт данные только разрешённым адресов. Этот список можно править в конфиге: 
/etc/zabbix/zabbix-agentd.conf
Также там храниться куда пишутся логи, уровень логирования и т.д.
Server=127.0.0.1,172.18.0.0/16
можно указывать ip адреса которым будет отвечать агент, можно указывать несколько через запятую и подсети.
Include=<путь к файлу>
Файлы из этого конфига будут включены в основной

